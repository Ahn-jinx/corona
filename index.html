<!doctype html><html lang="en"><head><title>corona Mask Map</title><link rel="stylesheet" href="../src/index.css"><link href="/static/css/main.11af2b49.chunk.css" rel="stylesheet"></head><body><div>Mask Map</div><div id="root"></div><div id="map" style="width:100%;height:750px;margin-top:50px"></div><script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=dxjwd79uv2"></script><script>let mapCenter,latitude,longitude;function fetchInfo(e,o){var n="1000";if(map.zoom<=22)n="500";else if(map.zoom<=20)n="1000";else if(map.zoom<=18)n="2000";else if(map.zoom<=16)n="3000";else if(map.zoom<=14)n="5000";else if(map.zoom<=10)return void(request=!1);fetch(`https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=${e}&lng=${o}&m=${n}`).then((function(e){return e.json()})).then((function(e){e.stores.forEach(e=>{let o="",n="",t="";"empty"===e.remain_stat?(n="매진",boxColor="grey",o="없",t="0.1"):e.remain_stat?"break"===e.remain_stat?(n="판매중지",boxColor="",o="없",t="0.1"):"few"===e.remain_stat?(n="2개 이상 30개 미만 남았습니다.",boxColor="#ff3333",o="있음",t="0.8"):"some"===e.remain_stat?(n="30개 이상 100개 미만 남았습니다.",boxColor="#ffcc00",o="적당",t="0.9"):"plenty"===e.remain_stat&&(n="100개 이상 남았습니다.",boxColor="#33cc33",o="많음",t="1"):(boxColor="",n="정보 없음",o="없",t="0.1");var a=new naver.maps.Marker({position:new naver.maps.LatLng(e.lat,e.lng),map:map,title:e.name,icon:{content:'<div><div  style = "color: #e6ffff; border-radius: 5px; background-color: '+boxColor+"; opacity: "+t+'">'+o+"</div></div>",size:new naver.maps.Size(35,35),anchor:new naver.maps.Point(17.5,35)}}),r=['<div class="iw_inner" style="border-radius: 5px; padding: 10px; ">',"   <h3>"+e.name+"</h3>","   <p>재고 상황: "+n+"<br>","   입고된 시간: "+e.stock_at+"<br>","    주소: "+e.addr+"</p>","</div>"].join(""),i=new naver.maps.InfoWindow({content:r});naver.maps.Event.addListener(a,"click",(function(e){i.getMap()?i.close():i.open(map,a)})),i.close()})}))}function handleGeoSucces(e){latitude=e.coords.latitude,longitude=e.coords.longitude,mapCenter=new naver.maps.LatLng(latitude,longitude),map.setCenter(mapCenter)}function handleGeoError(e){alert("Cannot find you.")}navigator.geolocation.getCurrentPosition(handleGeoSucces,handleGeoError);var mapDiv=document.getElementById("map"),map=new naver.maps.Map(mapDiv,{center:mapCenter,zoom:14,zoomControl:!0,zoomControlOptions:{position:naver.maps.Position.TOP_RIGHT}});fetchInfo(latitude,longitude),naver.maps.Event.addListener(map,"bounds_changed",(function(e){const o=map.getCenter();fetchInfo(o.y,o.x)}))</script><script>!function(e){function r(r){for(var n,l,a=r[0],f=r[1],i=r[2],p=0,s=[];p<a.length;p++)l=a[p],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(c&&c(r);s.length;)s.shift()();return u.push.apply(u,i||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,a=1;a<t.length;a++){var f=t[a];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={1:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/";var a=this.webpackJsonpcorona=this.webpackJsonpcorona||[],f=a.push.bind(a);a.push=r,a=a.slice();for(var i=0;i<a.length;i++)r(a[i]);var c=f;t()}([])</script><script src="/static/js/2.412cf650.chunk.js"></script><script src="/static/js/main.e566dcfc.chunk.js"></script></body></html>